<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">

</head>

<body>
    <div class="main_container">
        <div class="section">

            <form id="form">
                <h2>Login form</h2>
                <label for="">Email:-</label><br>
                <input type="email" name="email" id="email" placeholder="Enter your email"><br><br>
                <label for="">Password:- </label><br>
                <input type="password" name="password" id="password" placeholder="Enter your password"><br><br>
                <div class="btns">
                    <button id="btn">Login</button>
                </div>
                <label for=""> Don't have an account:-<a href="./registration.html">Click here to Register</a></label>

            </form>
        </div>

    </div>
</body>

<script>
    let arrforlogin = JSON.parse(localStorage.getItem("users")) || []
    let form = document.getElementById("form")
    let btn = document.getElementById("btn")
    btn.addEventListener("click", logindetails)
    function logindetails(e) {
        e.preventDefault()
        let newobj = {
            email: document.getElementById("email").value,
            password: document.getElementById("password").value,
        }
        if(newobj.email=="" && newobj.password==""){
            alert("please enter your details ")
            return;
        }  
        let valueCheck = arrforlogin.find((ele) => (
            ele.email === newobj.email && ele.password === newobj.password
        ))
        if (valueCheck) {
            localStorage.setItem("loggedInuser", JSON.stringify(valueCheck))

            alert("login success")
            window.location.href = "Home.html"
        } else {
            alert("login failed please register  your details first")
            window.location.href="registration.html"

        }
    }
    form.reset


</script>

</html>